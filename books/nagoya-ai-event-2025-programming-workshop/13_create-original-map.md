---
title: 'オリジナルマップを作ろう'
---

## オリジナルマップを作ろう

ここまで学んだ知識を使って、自分だけのオリジナルマップを作ってみましょう！

<br />

## 今まで学んだことの復習

これまでに、以下のことを学びました。

- AI への指示の書き方（`ai-route-prompt.js`）
- エラーの見つけ方と直し方
- より賢い指示の出し方

これらの知識を組み合わせて、自分だけの迷路を作りましょう。

<br />

## 新しいマップフォルダを作成する

新しいマップを作るために、`map-original` フォルダを作成します。

### 手順1： フォルダを作成

ターミナルで以下のコマンドを実行してください。

```bash
mkdir map-original
```

### 手順2： 必要なファイルをコピー

map-1 フォルダの中身を `map-original` にコピーします。

**Windows の場合**

```bash
copy map-1\* map-original\
```

**Mac の場合**

```bash
cp map-1/* map-original/
```

以下のファイルがあることを確認してください。

- `index.html`
- `map.js`
- `ai-route-prompt.js`
- `style.css`

<br />

## オリジナルマップのアイデア

どんなマップを作りたいか、アイデアを考えてみましょう。

### アイデアの例

1. **巨大迷路**
    - 10×10 以上の大きなマップ
    - 複数のルートがある
    - 迷いやすい構造

2. **障害物迷路**
    - トラップがたくさんある
    - 安全な道は少ない
    - 慎重な進行が必要

3. **シンプル迷路**
    - 5×5 程度の小さめのマップ
    - ゴールまでの道が分かりやすい
    - 初心者向け

<br />

## マップデータを作成する

`map-original` フォルダの `map.js` ファイルを開いて、オリジナルのマップデータを作りましょう！

### マップの記号の意味

マップは、文字を使って作ります。

- `n`: 道
- `o`: 壁
- `s`: スタート地点
- `e`: ゴール地点
- `t`: トラップ

### 例： シンプルな迷路

```javascript
export const mapConfig = {
    layout: [
        ['o', 'o', 'o', 'o', 'o', 'o', 'o'],
        ['o', 's', 'n', 'n', 'n', 'n', 'o'],
        ['o', 'o', 'o', 'n', 'o', 'n', 'o'],
        ['o', 'n', 'n', 'n', 'o', 'n', 'o'],
        ['o', 'n', 'o', 'o', 'o', 'n', 'o'],
        ['o', 'n', 'n', 'n', 'n', 'e', 'o'],
        ['o', 'o', 'o', 'o', 'o', 'o', 'o'],
    ],
    cell: {
        o: {
            type: 'object',
            color: '#333333',
        },
        n: {
            type: 'normal',
            color: '#ffffff',
        },
        s: { type: 'start', color: '#00ff00' },
        e: { type: 'end', color: '#ff0000' },
        t: { type: 'trap', color: '#000000' },
    },
};
```

### マップ作成のコツ

1. **周りを壁で囲む**
    - マップの外側は必ず `o`（壁）で囲む
    - プレイヤーが外に出ないようにする

2. **スタートとゴールは1つずつ**
    - `s`（スタート）は1つだけ
    - `e`（ゴール）も1つだけ

3. **道がつながっているか確認**
    - スタートからゴールまで、必ず道（`n`）でつながっている
    - 行き止まりがあってもよい

<br />

## トラブルシューティング

### エラーが出た場合

1. **マップが表示されない**
    - map.js の記述にミスがないか確認
    - カンマや引用符が正しいか確認
    - ブラウザの開発者ツール（F12）でエラーを確認

2. **AI が動かない**
    - ai-route-prompt.js の記述を確認
    - ネットワーク接続を確認
    - API キーが正しく設定されているか確認

3. **プレイヤーがおかしな動きをする**
    - マップのレイアウトを確認
    - スタートとゴールの位置を確認
    - 道がちゃんとつながっているか確認

<br />

## まとめ

おめでとうございます！ オリジナルマップの作成に成功しました！
次は、Cline を使ってさらに高度なマップを作ってみましょう！
