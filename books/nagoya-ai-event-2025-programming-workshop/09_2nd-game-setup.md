---
title: '🩵 ２問目のゲーム基盤を作ってみよう'
---

## ２問目のゲーム基盤を作ってみよう

では、ここからさらに一歩踏み込んで、次の課題に挑戦していきましょう！
今回の課題は、皆さんの知識と論理的思考力をさらに深めるためのものです。
焦らず、じっくりと取り組んでみてください。

準備はいいですかー？\
それでは、第２問に挑戦です！

<br />

## 新しいマップフォルダを作成する

ではさっそく `map-2` フォルダを作成します。

VSCode の下のパネルに 「ターミナル」 が表示されていることを確認してください。\
もし表示されていなければ、以下のショートカットキーでターミナルを開きます。

- **Windows の場合**: `Ctrl + j`
- **Mac の場合**: `⌘ (Command) が j`

お使いのパソコンに合わせて、以下のコマンドをコピーしてターミナルに貼り付け、Enter キーを押してください。

**PowerShell(Windows) の場合**

```powershell
New-Item -ItemType Directory -Name "map-2"
Copy-Item -Path "map-1/*" -Destination "map-2/" -Recurse
```

:::details コマンドプロンプト(Windows) の場合

```bash
mkdir map-2
copy map-1\* map-2\
```

:::

:::details シェル(Mac,Linux) の場合

```bash
mkdir map-2
cp map-1/* map-2/
```

:::

コマンドを実行すると、一気に左側のファイル一覧に新しいファイルとフォルダが表示されます。これで冒険の準備は完了です。🎉

:::details 【深く知りたい人向け】コマンドの解説

**PowerShell**

- `New-Item -ItemType Directory`: 新しいフォルダを作成
- `Copy-Item`: ファイルやフォルダをコピー
  - `-Path "map-1/*"`: map-1 フォルダ内のすべてのファイルを指定
  - `-Destination`: コピー先を指定
  - `-Recurse`: サブフォルダも含めてコピー

<br />

**コマンドプロンプト**

- `mkdir`: 新しいフォルダを作成
- `copy`: ファイルをコピー
  - `map-1\*`: map-1 フォルダ内のすべてのファイル（\はパス区切り文字）
  - `map-2\`: コピー先のフォルダ

<br />

**シェル（Mac/Linux）**

- `mkdir`: 新しいフォルダを作成
- `cp`: ファイルをコピー（copy）
  - `map-1/*`: map-1 フォルダ内のすべてのファイル（\*はワイルドカード）
  - `map-2/`: コピー先のフォルダ

:::

<br />

## マップを変更する

`map-2` フォルダの `map.js` ファイルを開いて、以下のマップに変更してください。

```javascript
export const mapConfig = {
  layout: [
    ['o', 'o', 'o', 'o', 'o', 'o'],
    ['o', 's', 'n', 'o', 'n', 'o'],
    ['o', 'o', 'n', 'o', 'n', 'o'],
    ['o', 'n', 'n', 'n', 'n', 'o'],
    ['o', 'n', 'o', 'o', 'e', 'o'],
    ['o', 'o', 'o', 'o', 'o', 'o'],
  ],
  cell: {
    o: {
      type: 'object',
      color: '#333333',
    },
    n: {
      type: 'normal',
      color: '#ffffff',
    },
    s: { type: 'start', color: '#00ff00' },
    e: { type: 'end', color: '#ff0000' },
    t: { type: 'trap', color: '#000000' },
  },
};
```

これで２問目用のマップの準備が完了しました！

<br />

## 動作確認してみる

では、動作確認をしてみましょう！

一度、VSCode の右下にある **「Port: 5500」** と書かれたボタンをクリックして、サーバーを停止します。

![Go Live を停止する](../../../images/nagoya-ai-event-2025-programming-workshop/09_2nd-game-setup/01_restart-go-live.png)

その後、もう一度「Go Live」ボタンをクリックして、サーバーを再起動してください。

ブラウザが自動で立ち上がり、以下のような画面が表示されたら、 **「map-2」** フォルダをクリックしてください。

![map-2 を選択する](../../../images/nagoya-ai-event-2025-programming-workshop/09_2nd-game-setup/02_select-map-2-folder.png)

そうすると、先ほど作成した新しいマップが表示されます。

<br />

## トラブルシューティング

何か問題が発生した場合は、以下を参考にしてください！

:::details A. フォルダやファイルの作成でエラーが出る

**原因**: コマンドの入力ミスや、実行している場所（ディレクトリ）が違う可能性があります。

**対処法**: 前の章（02 章）と同じように、コマンドが正しいか、そして VSCode で正しいフォルダ（`ai-app`）が開かれているか確認してください。`map-2` フォルダが `map-1` と同じ階層に作られているか、VSCode のエクスプローラーで確認してみましょう。

:::

:::details B. 戻る指示がうまく書けない

**原因**: ロボットに「戻る」という動きをどう指示すればいいか、迷ってしまうことがあります。

**対処法**: 「行き止まりに来たら、どうする？」と、現実世界で迷路を解く時のように考えてみましょう。紙に簡単な経路図を描いて、視覚的に理解するのも効果的です。

:::
